
<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{fragments::header}">
<body class="hold-transition login-page">
<div class="login-box">
  <div class="card card-outline card-primary">
    <div class="card-header text-center">
      <a href="../../index2.html" class="h1"><b>Reset Password</b></a>
    </div>
    <div class="card-body">

      <div th:if="${message == null}">
          <p class="login-box-msg">You are only one step a way from your new password, recover your password now.</p>
      </div>
      <div th:if="${message != null}">
        <div class="error-message">
          <p>[[${message}]]</p>
        </div>
      </div>
      <form  method="post"
             role="form"
             th:action="@{/reset-password}"
             onsubmit="return validatePassword()">
        <div class="input-group mb-3">
          <input  type="password" id="password" class="form-control" name="password" placeholder="Enter your new password" required>
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="input-group mb-3">
          <input  type="password" id="confirmPassword" class="form-control" name="confirmPassword" placeholder="Confirm new password" required>
          <div class="input-group-append">
            <div class="input-group-text">
              <span class="fas fa-lock"></span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <button type="submit" class="btn btn-primary btn-block">Change password</button>
          </div>
          <!-- /.col -->
        </div>
      </form>

      <p class="mt-3 mb-1">
        <a href="/login">Login</a>
      </p>
    </div>
    <!-- /.login-card-body -->
  </div>
</div>
<!-- /.login-box -->

<div th:replace="~{fragments::script}"></div>
<script>

function validatePassword () {

var password = document.getElementById("password").value;
var confirmPassword = document.getElementById("confirmPassword").value;

if (password !== confirmPassword){
alert("Password do not match");
return false;
}

return true;
}

</script>
</body>
</html>
